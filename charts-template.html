<html>
    <head>
        <script language="javascript" type="text/javascript" src="./jquery.js"></script>
        <script language="javascript" type="text/javascript" src="./jquery.flot.js"></script>
        <script language="javascript" type="text/javascript" src="./jquery.flot.categories.js"></script>
    </head>
    <body>

<script>

    __DATA__

    function plot_chart(chart_container, chart_data_set, yaxissuffix) {
	    $.plot($(chart_container), [ chart_data_set ], {
		    series: {
			    bars: {
				    show: true,
				    barWidth: 0.6,
				    align: "center"
			    }
		    },
		    xaxis: {
			    mode: "categories",
			    tickLength: 0
		    },
		    yaxis: {
			    tickFormatter: function (v) {
				    return v + " " + yaxissuffix;
			    }
		    }
	    });
    }

    $(document).ready(function () {

	    plot_chart("#speed", chart_data["speed"], "s");
	    plot_chart("#memory", chart_data["memory"], "KiB");
	    plot_chart("#hash_functions", chart_data["hash_functions"], "s");
	    plot_chart("#jemalloc", chart_data["jemalloc"], "KiB");
	    plot_chart("#jemalloc_memory", chart_data["jemalloc_memory"], "KiB");

    });
    
</script>

<style>
    body, * { font-family: sans-serif; }
    div.global {
        margin: auto;
    }
    div.chart {
        height: 400px;
    }
</style>

<div class="global">

<h3>Speed (less is better)</h3>
<div class="chart" id="speed"></div>

<h3>Memory (less is better)</h3>
<div class="chart" id="memory"></div>

<h3>Hash Functions (less is better)</h3>
<div class="chart" id="hash_functions"></div>

<h3>Jemalloc (less is better)</h3>
<div class="chart" id="jemalloc"></div>

<h3>Jemalloc Memory (less is better)</h3>
<div class="chart" id="jemalloc_memory"></div>

</div>

</body>
</html>
